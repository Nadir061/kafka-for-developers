# webinar-04
### Kafka cluster
```txt
Kafka с двумя брокерами (репликацией) для повышения отказоустойчивости и масштабируемости системы
-------------------------------------------------------------------------------------------------
1. Добавление второго Kafka брокера (kafka2):

  - Добавлен сервис kafka2, который является вторым брокером Kafka
  - Каждый брокер имеет свой уникальный KAFKA_BROKER_ID (1 для kafka1, 2 для kafka2)
  - KAFKA_ZOOKEEPER_CONNECT указывает на тот же Zookeeper, что и для первого брокера

2. Настройка KAFKA_ADVERTISED_LISTENERS:

  Настройки позволяют клиентам подключаться к каждому брокеру через их уникальные адреса:
  
  - PLAINTEXT://kafka1:9092 и PLAINTEXT_HOST://localhost:9093 для kafka1
  - PLAINTEXT://kafka2:9092 и PLAINTEXT_HOST://localhost:9094 для kafka2

3. Изменения в kafdrop:
  
  - KAFKA_BROKERCONNECT теперь содержит адреса обоих брокеров через запятую (kafka1:9092, kafka2:9092)


                      Схема работы: 
                      ------------
                +---------------------+
                |     Zookeeper       |
                |   (Port: 2181)      |
                +---------|-----------+
                          |
          +-----------------------------+
          |                             |
          |                             |
          |                             |
+---------|-----------+       +---------|--------+
|    Kafka1           |       |    Kafka2        |
| (Broker ID: 1)      |       | (Broker ID: 2)   |
|  PLAINTEXT://       |       |  PLAINTEXT://    |
|  kafka1:9092        |       |  kafka2:9092     |
|  localhost:9093     |       |  localhost:9094  |
+---------|-----------+       +---------|--------+
          |                             |
          |                             |
          +-----------------------------+
            (Inter-Broker Communication)
                        |
                        |
                +-------|-------+
                |    Kafdrop    |
                | (Port: 9000)  |
                +---------------+

1. Zookeeper:

    Работает на порту 2181.
    Управляет метаданными и координацией для кластера Kafka.

2. Kafka1 и Kafka2:

    Два брокера Kafka с уникальными KAFKA_BROKER_ID (1 и 2).
    Оба брокера подключаются к Zookeeper для координации.
    Каждый брокер имеет два слушателя:
    Внутренний (PLAINTEXT://kafka1:9092, PLAINTEXT://kafka2:9092).
    Внешний (PLAINTEXT_HOST://localhost:9093, PLAINTEXT_HOST://localhost:9094).

3. Kafdrop:

    Сервис мониторинга, который подключается ко всем брокерам (kafka1:9092, kafka2:9092).
    Работает на порту 9000.
    
4. Пояснения:
    Zookeeper управляет метаданными и координацией между брокерами.
    Kafka1 и Kafka2 — это два брокера, которые взаимодействуют между собой для обеспечения репликации и отказоустойчивости.
    Kafdrop предоставляет интерфейс для мониторинга состояния кластера Kafka.
    В таком кластере, производители и потребители могут взаимодействовать с любым из брокеров (Kafka1 или Kafka2), 
    а Zookeeper обеспечивает надежную координацию и распределение нагрузки.
```
### ConsumerConfig

```java

```

### Features list
```txt

          
```